# ブログエディタ

グリッドベースのビジュアルブログエディタです。3列×36行のセルにテキストや画像を配置し、HTMLファイルとしてエクスポートできます。ブラウザだけで動作し、インストール不要です。

## 特徴

- **グリッドレイアウト** — 3列×36行（108セル）の自由配置。テキストと画像を好きなセルに配置できます
- **Markdown対応** — セル単位でプレーン／Markdownを切り替え可能。見出し・太字・リスト・コードブロック・引用・リンク・画像記法をサポート
- **縦書き対応** — セルごとに横書き／縦書きを切り替えられます
- **画像ドラッグ＆ドロップ** — 画像ファイルをセルにドロップするだけで配置完了
- **HTMLエクスポート** — 空セルを自動スキップし、コンテンツのあるセルだけを含んだ完結したHTMLファイルを出力します
- **設定の自動保存** — ブラウザのlocalStorageに設定が自動保存されます

## 使い方

### 1. ファイルを開く

`blog-editor.html` をブラウザで開きます（Chrome / Edge / Firefox / Safari 対応）。起動すると「設定」タブが表示されます。

### 2. 設定タブで初期設定をする

最初に設定タブで以下を確認・変更してください。設定は変更するたびに自動保存されます。

#### 画像ディレクトリ設定

画像をセルにドロップした際に、エクスポートHTMLで使われるパスの元になるディレクトリです。

- **エイリアス名**：分かりやすい短い名前（例：`post-img`）
- **ディレクトリパス**：画像の格納先パス（例：`/images/posts/`）

デフォルトで3つのプリセットが登録されています。

| エイリアス | パス |
|-----------|------|
| post-img | /images/posts/ |
| bg | /images/bg/ |
| icons | /images/icons/ |

不要なものは「✕」で削除し、プロジェクトに合ったパスを追加してください。パスの末尾には `/` を付けてください。

#### デフォルトパス

登録したディレクトリの中から、画像ドロップ時に使われるディレクトリを選びます。

#### 背景画像

エクスポートしたHTMLの全体背景に使われる画像のパスです。空欄にすると背景なし（グレー単色）になります。

#### エクスポート設定

- **ページタイトル** — HTMLの`<title>`タグとダウンロードファイル名に使われます
- **CSS読込パス** — 外部CSSファイルを読み込む場合のパスを指定します。空欄ならスタイルはHTMLにインラインで埋め込まれます

### 3. エディタタブで記事を作る

設定が済んだら上部の「✏ エディタ」タブに切り替えます。

#### 画面構成

- **左：サイドパネル** — 選択中のセルの編集コントロール
- **右：プレビューエリア** — グリッドのリアルタイムプレビュー

各セルの左上にはセル番号（行-列）が表示されています。

#### テキストを入力する

1. プレビューエリアのセルをクリックして選択します（赤い枠線が表示されます）
2. サイドパネルの「テキスト」欄に文章を入力します
3. プレビューにリアルタイムで反映されます

#### 入力モードを切り替える

各セルは「プレーン」と「マークダウン」の2つの入力モードを持っています。

- **プレーン** — 入力したテキストがそのまま表示されます。改行もそのまま反映されます
- **マークダウン** — Markdown記法が使えます。マークダウンモードのセルにはプレビュー上に「MD」バッジが表示されます

マークダウンモードで使える記法：

```
# 見出し1 ～ #### 見出し4
**太字**  *斜体*  ***太字斜体***  ~~取り消し線~~
- 箇条書きリスト
1. 番号リスト
> 引用
`インラインコード`
```コードブロック```
--- 水平線
[リンクテキスト](URL)
![代替テキスト](画像URL)
```

改行の扱いはMarkdownの標準仕様に準拠しています。連続する行は同じ段落として扱われ、空行で段落が分かれます。

#### 文字方向を設定する

「文字方向」で「横書き」「縦書き」を切り替えられます。縦書きは日本語コンテンツに適しています。

#### 配置を調整する

- **横揃え** — 左 / 中央 / 右
- **縦揃え** — 上 / 中央 / 下

縦書きモードでは、横揃えと縦揃えの効果が直感的に入れ替わります。

#### フォントを設定する

| 項目 | 選択肢 |
|------|--------|
| 書体 | ゴシック体（Noto Sans JP）/ 明朝体（Noto Serif JP） |
| サイズ | 8〜120px |
| 太さ | Light / Regular / Medium / Bold |
| 文字色 | カラーピッカーで自由選択 |

#### 画像を配置する

1. 画像ファイルをセルにドラッグ＆ドロップします
2. セルが緑色にハイライトされたらドロップします
3. 画像がセルいっぱいに表示されます

ドロップした画像には、設定タブで指定したデフォルトパスに基づいて自動的にエクスポート用パスが設定されます（例：`/images/posts/photo.jpg`）。

画像を削除するには、画像セルにホバーすると表示される赤い「✕」ボタンをクリックします。

### 4. HTMLをエクスポートする

記事が完成したら、右上の「📄 HTMLエクスポート」ボタンをクリックします。

エクスポートされたHTMLの特徴：

- コンテンツのあるセルだけが出力されます（空セル・空行は自動スキップ）
- 各セルはグリッド上の元の位置を保持します
- レスポンシブ対応（768px以下で1列に折り返し）
- Google Fontsの読み込みコード付き
- 背景画像を設定している場合、固定背景として適用されます

## 注意事項

- データはブラウザのlocalStorageに保存されます。ブラウザのデータを削除すると設定がリセットされます
- 画像はBase64でプレビュー表示されますが、エクスポートHTMLではパス参照になります。実際のWebサーバーに画像ファイルを配置する必要があります
- 現在のバージョンではセルの結合やサイズ変更には対応していません

## 動作環境

モダンブラウザ（Chrome / Edge / Firefox / Safari の最新版）
